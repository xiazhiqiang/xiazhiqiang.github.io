---
layout:     post
title:      Java入门
subtitle:   一天掌握Java核心概念
date:       2018-06-09
author:     Zhiqiang
header-img: img/post-bg/post-bg-java-study.png
catalog: true
tags:
    - Java
    - JVM
---

## Java概述

### Java特点
* Java是面向对象语言，并具有跨平台特性，可以一次编译，到处运行
* 主要应用方向Web开发、Android开发、客户端开发（面向政府和企业）
* Java编写的客户端资源占用较多；GUI库不算丰富；操作硬件方面不足，需要虚拟机支持

> 历史：Java是SUN公司1995年推出的编程语言，成为大型互联网项目的首选；2009年被甲骨文收购，获得Java版权。

### Java跨平台原理
不同平台上安装了适合该平台的JVM（Java 虚拟机）后，JVM将Java编译后的.class字节码文件，转换成对应平台的机器码运行。

![java跨平台原理图](/img/post-content/20180609/java跨平台原理.png)

### J2SE、J2EE、J2ME区别

> 1998年12月，SUN公司发布了Java 1.2，开始使用“Java 2” 这一名称，目前我们已经很少使用1.2之前的版本，所以通常所说的Java都是指Java2。

- J2SE(Java 2 Platform Standard Edition) 标准版：J2SE是Java的标准版，主要用于开发客户端（桌面应用软件），它包含了Java的核心类库，例如数据库连接、接口定义、输入/输出、网络编程等。
- J2EE(Java 2 Platform Enterprise Edition) 企业版：J2EE是功能最丰富的一个版本，主要用于开发高访问量、大数据量、高并发量的网站；也可以用来开发技术比较庞杂的管理软件，例如ERP系统。
- J2ME(Java 2 Platform Micro Edition) 微型版：只包含J2SE中的一部分类，受平台影响比较大，主要用于嵌入式系统和移动平台的开发。

> Java5.0版本后，J2SE、J2EE、J2ME分别更名为Java SE、Java EE、Java ME，由于习惯的原因，我们依然称之为J2SE、J2EE、J2ME。

### Java环境搭建

- JDK安装
- 环境变量配置
- IntelliJ IDE编辑器

#### JDK安装

JDK（Java Development Kit）Java开发工具箱：是一系列工具的集合，这些工具是编译Java源码、运行Java程序所必需的，例如JVM、基础类库、编译器、打包工具等。

JDK所提供的部分工具：
- java编译器：javac
- java解释器：java
- java文档生成器：javadoc
- java调试器：jdb

JDK有不同的版本（J2SE、J2EE、J2ME），初学Java，一般都选择J2SE。

[下载JDK8](http://www.oracle.com/technetwork/java/javase/downloads/index.html)，如果安装具体的历史版本，点击下载链接下方的“Java Archive”进入选择安装，一般需要Oracle账号登录

#### 环境变量配置

```
# Mac下配置
sudo vi ~/.bash_profile

# 添加配置
JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_151.jdk/Contents/Home
CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export JAVA_HOME
export CLASSPATH
export PATH=$PATH:$JAVA_HOME/bin

# 生效
source ~/.bash_profile

# 验证是否成功
java -version
```

#### IntelliJ IDE

- [官网下载IDE](https://www.jetbrains.com/idea/download/#section=mac)，选择Ultimate版
- [注册方法](http://idea.lanyus.com/)

### Java第一个Hello world

// todo

```java
public class Main {

    public static void main(String[] args) {
        System.out.println("Hello World!");
    }
}
```
`Java 中主类名应该和要保存的 Java 文件名相同，也就是说，这里定义的类名是“Main”，则文件应该保存为”Main.java“`

### Java类和对象的概念

在Java中，仅仅通过类来定义变量不会分配内存空间，必须使用new关键字来完成内存空间的分配。

在Java中，可以将完成某个功能的代码块定义为方法，将具有相似功能的方法定义在一个类中，也就是定义在一个源文件中（因为一个源文件只能包含一个公共的类），多个源文件可以位于一个文件夹，这个文件夹有特定的称呼，叫做包。

![java项目组织结构](/img/post-content/20180609/java项目组织结构.png)

### Java类库

#### 类库及文档

[Java API文档](http://www.oracle.com/technetwork/java/api/index.html)

Java类库中有很多包：
- 以 java.* 开头的是Java的核心包，所有程序都会使用这些包中的类；
- 以 javax.* 开头的是扩展包，x 是 extension 的意思，也就是扩展。虽然 javax.* 是对 java.* 的优化和扩展，但是由于 javax.* 使用的越来越多，很多程序都依赖于 javax.*，所以 javax.* 也是核心的一部分了，也随JDK一起发布。
- 以 org.* 开头的是各个机构或组织发布的包，因为这些组织很有影响力，它们的代码质量很高，所以也将它们开发的部分常用的类随JDK一起发布。

在包的命名方面，为了防止重名，有一个惯例：大家都以自己域名的倒写形式作为开头来为自己开发的包命名，例如百度发布的包会以 com.baidu.* 开头，w3c组织发布的包会以 org.w3c.* 开头，微学苑发布的包会以 net.weixueyuan.* 开头……

<table>
  <caption>java中常用的几个包介绍</caption>
  <tbody>
    <tr>
      <th>包名</th>
      <th>说明</th>
    </tr>
    <tr>
      <td>java.lang</td>
      <td>该包提供了Java编程的基础类，例如 Object、Math、String、StringBuffer、System、Thread等，不使用该包就很难编写Java代码了。</td>
    </tr>
    <tr>
      <td>java.util</td>
      <td>该包提供了包含集合框架、遗留的集合类、事件模型、日期和时间实施、国际化和各种实用工具类（字符串标记生成器、随机数生成器和位数组）。</td>
    </tr>
    <tr>
      <td>java.io</td>
      <td>该包通过文件系统、数据流和序列化提供系统的输入与输出。</td>
    </tr>
    <tr>
      <td>java.net</td>
      <td>该包提供实现网络应用与开发的类。</td>
    </tr>
    <tr>
      <td>java.sql</td>
      <td>该包提供了使用Java语言访问并处理存储在数据源（通常是一个关系型数据库）中的数据API。</td>
    </tr>
    <tr>
      <td>java.awt</td>
      <td colspan="1" rowspan="2">这两个包提供了GUI设计与开发的类。java.awt包提供了创建界面和绘制图形图像的所有类，而javax.swing包提供了一组“轻量级”的组件，尽量让这些组件在所有平台上的工作方式相同。</td>
    </tr>
    <tr>
      <td>javax.swing</td>
    </tr>
    <tr>
      <td>java.text</td>
      <td>提供了与自然语言无关的方式来处理文本、日期、数字和消息的类和接口。</td>
    </tr>
  </tbody>
</table>

#### 类库引用

如果你希望使用Java包中的类，就必须先使用import语句导入。
```
import java.util.Date;  // 导入 java.util 包下的 Date 类
import java.util.*;  // 导入 java.util 包下的所有类
```

Java引用类库搜索机制：
- import语句中的路径寻找
- CLASSPATH环境变量中寻找

> 如果在第一个路径下找到了所需的类文件，则停止搜索，否则继续搜索后面的路径，如果在所有的路径下都未能找到所需的类文件，则编译或运行出错。

## Java基础语法

### 数据类型

<table>
  <caption>Java基本数据类型</caption>
  <tbody>
    <tr>
      <th width="80">数据类型</th>
      <th width="90">说明</th>
      <th width="80">所占内存</th>
      <th>举例</th>
      <th>备注</th>
    </tr>
    <tr>
      <td>byte</td>
      <td>字节型</td>
      <td>1 byte</td>
      <td>3,&nbsp;127</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>short</td>
      <td>短整型</td>
      <td>2 bytes</td>
      <td>3,&nbsp;32767</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>int</td>
      <td>整型</td>
      <td>4 bytes</td>
      <td>3,&nbsp;21474836</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>long</td>
      <td>长整型</td>
      <td>8 bytes</td>
      <td>3L,&nbsp;92233720368L</td>
      <td>long最后要有一个L字母（大小写无所谓）。</td>
    </tr>
    <tr>
      <td>float</td>
      <td>单精度浮点型</td>
      <td>4 bytes</td>
      <td>1.2F,&nbsp;223.56F</td>
      <td>float最后要有一个F字母（大小写无所谓）。</td>
    </tr>
    <tr>
      <td>double</td>
      <td>双精度浮点型</td>
      <td>8 bytes</td>
      <td>1.2, 1.2D,&nbsp;223.56,&nbsp;223.56D</td>
      <td>double最后最好有一个D字母（大小写无所谓）。</td>
    </tr>
    <tr>
      <td>char</td>
      <td>字符型</td>
      <td>2 bytes</td>
      <td>'a', ‘A’</td>
      <td>字符型数据只能是一个字符，由单引号包围。</td>
    </tr>
    <tr>
      <td>boolean</td>
      <td>布尔型</td>
      <td>1 bit</td>
      <td>true, false</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>